<?xml version='1.0' encoding='UTF-8' ?>
<ui:component xmlns:ui="http://java.sun.com/jsf/facelets"
              xmlns:h="http://java.sun.com/jsf/html"
              xmlns:p="http://primefaces.org/ui"
              xmlns:c="http://java.sun.com/jsp/jstl/core">
    <center>
    <p:panel header="System of bank account management" style="width:550px;">
        <h:form enctype="ssl">
            <c:if test="#{loginBean.loginError}"> #{loginBean.addErrorMessageAut}</c:if>
            <h:outputLabel value="Please insert login and password or register in system."></h:outputLabel>
            <h:outputText value= "Authentication failed!" style="color:red;" rendered="#{loginBean.loginError}" />
            <center>
            <p>
                <p:inputText id="login" 
                             value="#{loginBean.login}"
                             required="true"
                             requiredMessage="Login is empty."
                             validator="#{loginBean.validateName}" />
                <p:watermark for="login" value="Login" />
            </p>
            <p>
                <p:message for="login" />
            </p>
            <p>
                <p:password id="password" 
                             value="#{loginBean.password}"
                             required="true"
                             requiredMessage="Password is empty."
                             validator="#{loginBean.validatePassword}" />
                <p:watermark for="password" value="Password" />
            </p>
            <p>
                <p:message for="password"/>
            </p>
            
            <p:commandButton value="Login" action="#{loginBean.doLogin}"
                     ajax="false"/>
            
            <p>
                <h:link value="Register new user" outcome="register/register" />
            </p>
            </center>
        </h:form>
    </p:panel>
    </center>
</ui:component>